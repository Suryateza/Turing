<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bingo Game</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #deadad;
            text-align: center;
            padding: 20px;
        }
        
        .container {
            max-width: 600px;
            margin: auto;
        }
        
        .hidden {
            display: none;
        }
        
        #bingoCard {
            display: grid;
            grid-template-columns: repeat(5, 1fr);
            gap: 10px;
            margin: 20px 0;
        }
        
        .bingoCell {
            background-color: #ffffff;
            border: 1px solid #000;
            padding: 20px;
            cursor: pointer;
            font-size: 24px;
            transition: background-color 0.3s;
        }
        
        .bingoCell.marked {
            background-color: #df5f0a;
        }

        .power-up {
            background-color: #ffcc00;
            border: none;
            padding: 10px 20px;
            font-size: 16px;
            cursor: pointer;
            margin-top: 20px;
        }
        
        #drawnNumbers ul {
            list-style-type: none;
            padding: 0;
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
        }
        #startButton{
            padding: 20px 40px;
            background-color: rgb(232, 14, 87);
            border-radius: 5%;
            border: none;
           
        }
        #bingoButton{
            padding: 20px 40px;
            background-color: rgb(15, 64, 190);
            border-radius: 5%;
            border: none;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Bingo Game</h1>
        <button id="startButton">Start Game</button>
        <div id="bingoCard" class="hidden"></div>
        <div id="drawnNumbers" class="hidden">
            <h2>Drawn Numbers:</h2>
            <ul id="numbersList"></ul>
        </div>
        <h2 id="statusMessage" class="hidden"></h2>
        <button id="bingoButton" class="hidden">Call Bingo!</button>
        <button id="clearCellButton" class="power-up hidden">Clear Marked Cell</button>
        <button id="extraChanceButton" class="power-up hidden">Use Extra Chance</button>
        <h2>Leaderboard</h2>
        <ul id="leaderboard"></ul>
    </div>

    <script>
        const startButton = document.getElementById("startButton");
        const bingoCardDiv = document.getElementById("bingoCard");
        const numbersList = document.getElementById("numbersList");
        const statusMessage = document.getElementById("statusMessage");
        const leaderboard = document.getElementById("leaderboard");
        const bingoButton = document.getElementById("bingoButton");
        const clearCellButton = document.getElementById("clearCellButton");
        const extraChanceButton = document.getElementById("extraChanceButton");

        let bingoCard = [];
        let drawnNumbers = [];
        let playerWins = 0;

        // Start the game
        startButton.addEventListener("click", startGame);
        bingoButton.addEventListener("click", callBingo);
        clearCellButton.addEventListener("click", clearMarkedCell);
        extraChanceButton.addEventListener("click", useExtraChance);

        function startGame() {
            bingoCardDiv.innerHTML = ""; // Clear the card
            numbersList.innerHTML = ""; // Clear drawn numbers
            drawnNumbers = []; // Reset drawn numbers
            bingoCard = generateBingoCard();
            drawNumbers();
            displayBingoCard();
            statusMessage.classList.add("hidden");
            document.getElementById("drawnNumbers").classList.remove("hidden");
            bingoButton.classList.remove("hidden");
            clearCellButton.classList.remove("hidden");
            extraChanceButton.classList.remove("hidden");
        }
        
        // Generate a Bingo card with random numbers
        function generateBingoCard() {
            const numbers = Array.from({ length: 75 }, (_, i) => i + 1);
            const card = [];
            for (let i = 0; i < 5; i++) {
                const row = [];
                for (let j = 0; j < 5; j++) {
                    let num;
                    do {
                        num = numbers[Math.floor(Math.random() * numbers.length)];
                    } while (row.includes(num));
                    row.push(num);
                    numbers.splice(numbers.indexOf(num), 1); // Remove number to avoid duplicates
                }
                card.push(row);
            }
            card[2][2] = "FREE"; // Free space in the center
            return card;
        }
        
        // Display the Bingo card
        function displayBingoCard() {
            bingoCard.forEach(row => {
                row.forEach(num => {
                    const cell = document.createElement("div");
                    cell.classList.add("bingoCell");
                    cell.textContent = num;
                    cell.addEventListener("click", () => markCell(cell, num));
                    bingoCardDiv.appendChild(cell);
                });
            });
            bingoCardDiv.classList.remove("hidden");
        }
        
        // Mark the cell if the number matches
        function markCell(cell, num) {
            if (drawnNumbers.includes(num) || num === "FREE") {
                cell.classList.add("marked");
                checkBingo();
            }
        }
        
        // Draw random numbers
        function drawNumbers() {
            const interval = setInterval(() => {
                if (drawnNumbers.length >= 75) {
                    clearInterval(interval);
                    return;
                }
                let num;
                do {
                    num = Math.floor(Math.random() * 75) + 1;
                } while (drawnNumbers.includes(num));
                drawnNumbers.push(num);
                const numberItem = document.createElement("li");
                numberItem.textContent = num;
                numbersList.appendChild(numberItem);
            }, 2000); // Draw a number every 2 seconds
        }
        
        // Check for Bingo
        function checkBingo() {
            const markedCells = document.querySelectorAll(".bingoCell.marked");
            if (checkWin(markedCells)) {
                playerWins++;
                statusMessage.textContent = `Bingo! You won! Total Wins: ${playerWins}`;
                statusMessage.classList.remove("hidden");
                updateLeaderboard();
            }
        }
        
        // Check for winning conditions
        function checkWin(markedCells) {
            const cardArray = Array.from(bingoCardDiv.children);
            // Check rows and columns
            for (let i = 0; i < 5; i++) {
                if (checkRow(cardArray, i) || checkColumn(cardArray, i)) {
                    return true;
                }
            }
            // Check diagonals
            return checkDiagonal(cardArray);
        }
        
        function checkRow(cardArray, row) {
            return cardArray.slice(row * 5, row * 5 + 5).every(cell => cell.classList.contains("marked"));
        }
        
        function checkColumn(cardArray, col) {
            return Array.from({ length: 5 }).every((_, row) => cardArray[row * 5 + col].classList.contains("marked"));
        }
        
        function checkDiagonal(cardArray) {
            return (
                [0, 6, 12, 18, 24].every(index => cardArray[index].classList.contains("marked")) || // Left to Right
                [4, 8, 12, 16, 20].every(index => cardArray[index].classList.contains("marked")) // Right to Left
            );
        }
        
        // Update leaderboard
        function updateLeaderboard() {
            leaderboard.innerHTML = ""; // Clear previous leaderboard
            const winEntry = document.createElement("li");
            winEntry.textContent = `Player: ${playerWins} Wins`;
            leaderboard.appendChild(winEntry);
        }

        // Call Bingo
        function callBingo() {
            const markedCells = document.querySelectorAll(".bingoCell.marked");
            if (checkWin(markedCells)) {
                alert("Bingo! Your win is verified!");
            } else {
                alert("No Bingo! Keep trying.");
            }
        }

        // Clear a marked cell
        function clearMarkedCell() {
            const markedCells = document.querySelectorAll(".bingoCell.marked");
            if (markedCells.length > 0) {
                const randomCell = markedCells[Math.floor(Math.random() * markedCells.length)];
                randomCell.classList.remove("marked");
                alert("Cleared a marked cell!");
            } else {
                alert("No marked cells to clear!");
            }
        }

        // Use Extra Chance
        function useExtraChance() {
            const unmarkedCells = Array.from(document.querySelectorAll(".bingoCell:not(.marked)"));
            if (unmarkedCells.length > 0) {
                const randomCell = unmarkedCells[Math.floor(Math.random() * unmarkedCells.length)];
                randomCell.click(); // Simulate a click on an unmarked cell
                alert("Used an extra chance!");
            } else {
                alert("No unmarked cells available for an extra chance!");
            }
        }
    </script>
</body>
</html>
