<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Note Taking App</title>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.2/dist/css/bootstrap.min.css">
<style>
    body { padding: 20px; }
    .note { 
        margin: 10px 0; 
        padding: 10px; 
        border: 1px solid #ddd; 
        border-radius: 4px;
    }
    .note h3 { margin-top: 0; }
    .note button { margin-right: 5px; }
</style>
</head>
<body>

<div class="container">
    <h1>My Notes</h1>
    <input type="text" id="searchInput" class="form-control mb-3" placeholder="Search notes...">
    
    <form id="noteForm">
        <input type="text" id="noteTitle" class="form-control mb-2" placeholder="Title" required>
        <textarea id="noteContent" class="form-control mb-2" placeholder="Content" required></textarea>
        <button type="submit" class="btn btn-primary">Add Note</button>
    </form>
    
    <div id="notesContainer"></div>
</div>

<script>
document.addEventListener('DOMContentLoaded', (event) => {
    const noteForm = document.getElementById('noteForm');
    const notesContainer = document.getElementById('notesContainer');
    const searchInput = document.getElementById('searchInput');
    let notes = loadNotes();

    // Display existing notes
    displayNotes(notes);

    // Add Note
    noteForm.addEventListener('submit', function(e) {
        e.preventDefault();
        const title = document.getElementById('noteTitle').value;
        const content = document.getElementById('noteContent').value;
        const note = {id: Date.now(), title, content};
        notes.push(note);
        saveNotes(notes);
        displayNote(note);
        noteForm.reset();
    });

    // Search functionality
    searchInput.addEventListener('input', function(e) {
        const searchText = e.target.value.toLowerCase();
        const filteredNotes = notes.filter(note => 
            note.title.toLowerCase().includes(searchText) || 
            note.content.toLowerCase().includes(searchText)
        );
        displayNotes(filteredNotes);
    });

    // Display single note
    function displayNote(note) {
        const noteElement = document.createElement('div');
        noteElement.className = 'note';
        noteElement.innerHTML = `
            <h3>${note.title}</h3>
            <p>${note.content}</p>
            <button onclick="editNote(${note.id})" class="btn btn-info btn-sm">Edit</button>
            <button onclick="deleteNote(${note.id})" class="btn btn-danger btn-sm">Delete</button>
        `;
        notesContainer.appendChild(noteElement);
    }

    // Display all notes
    function displayNotes(notesToShow) {
        notesContainer.innerHTML = '';
        notesToShow.forEach(displayNote);
    }

    // Save notes to localStorage
    function saveNotes(notes) {
        localStorage.setItem('notes', JSON.stringify(notes));
    }

    // Load notes from localStorage
    function loadNotes() {
        const notesJSON = localStorage.getItem('notes');
        return JSON.parse(notesJSON) || [];
    }

    // Delete a note
    window.deleteNote = function(id) {
        notes = notes.filter(note => note.id !== id);
        saveNotes(notes);
        displayNotes(notes);
    }

    // Edit functionality (basic implementation)
    window.editNote = function(id) {
        const note = notes.find(note => note.id === id);
        if(note) {
            document.getElementById('noteTitle').value = note.title;
            document.getElementById('noteContent').value = note.content;
            deleteNote(id); // Remove old version
        }
    }
});
</script>

</body>
</html>