<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Coin Flip Game</title>
    <style>
        /* Import fonts */
        @import url('https://fonts.googleapis.com/css2?family=Balsamiq+Sans&family=Josefin+Sans:wght@300&family=Kalam&family=Montserrat:wght@100&display=swap');
        
        * {
            padding: 0;
            margin: 0;
            box-sizing: border-box;
            font-family: 'Balsamiq Sans', cursive;
            background-color: #E7F2F8;
        }
        
        .container {
            width: 80%;
            margin: 0 auto;
            text-align: center;
        }
        
        .title {
            font-size: 55px;
            margin-top: 50px;
            color: #333;
        }
        
        .coin-container {
            margin: 20px auto;
            width: 150px;
            height: 150px;
            position: relative;
            perspective: 1000px; /* Add perspective for 3D effect */
        }
        
        .coin {
            width: 100%;
            height: 100%;
            background-size: cover;
            transition: transform 0.5s ease, background-image 0.5s ease;
            transform-style: preserve-3d; /* Enable 3D transformations */
        }
        
        .buttons {
            margin: 20px 0;
        }
        
        .button {
            width: 120px;
            height: 50px;
            font-size: 20px;
            text-align: center;
            border: 2px solid #74BDCB;
            border-radius: 25px;
            cursor: pointer;
            background-color: #E7F2F8;
            margin: 0 10px;
            transition: background-color 0.3s ease;
        }
        
        .button:hover {
            background-color: #74BDCB;
        }
        
        .button:active {
            background-color: #5885AF;
        }
        
        .display {
            font-size: 20px;
            margin: 20px 0;
        }
        
        .history, .rewards {
            margin-top: 30px;
            font-size: 20px;
        }
        
        ul {
            list-style-type: none;
        }
        
        ul li {
            margin: 5px 0;
        }
        
        .coin-flip {
            margin-top: 20px;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1 class="title">Coin Flip Game</h1>
        <div class="coin-container">
            <div class="coin" id="coin"></div>
        </div>
        <div class="buttons">
            <button class="button" id="flip-button">Flip Coin</button>
            <button class="button" id="reset-button">Reset</button>
        </div>
        <div class="display">
            <p id="result">Flip the coin to get started!</p>
        </div>
        <div class="history">
            <h2>Play History</h2>
            <ul id="history-list"></ul>
        </div>
        <div class="rewards">
            <h2>Rewards</h2>
            <p id="rewards-count">Coins Collected: 0</p>
        </div>
    </div>

    <script>
        const resultElement = document.getElementById('result');
        const coinElement = document.getElementById('coin');
        const flipButton = document.getElementById('flip-button');
        const resetButton = document.getElementById('reset-button');
        const historyList = document.getElementById('history-list');
        const rewardsCount = document.getElementById('rewards-count');
        
        let flipHistory = [];
        let rewards = 0;

        function flipCoin() {
            fetch('https://api.coinflip.com/flip') // Use a public coin flip API
                .then(response => response.json())
                .then(data => {
                    const result = data.outcome === 'heads' ? 'Heads' : 'Tails';
                    const coinImage = data.outcome === 'heads' 
                        ? 'https://example.com/head_image.png' // Placeholder for API image
                        : 'https://example.com/tail_image.png'; // Placeholder for API image
                    
                    coinElement.style.backgroundImage = `url(${coinImage})`;
                    coinElement.style.transform = `rotateY(${Math.random() * 720}deg)`;

                    resultElement.innerHTML = `Result: ${result}`;
                    flipHistory.push(result);
                    updateHistory();
                    updateRewards();
                })
                .catch(error => console.error('API request failed:', error));
        }

        function resetGame() {
            coinElement.style.backgroundImage = 'url(https://example.com/head_image.png)';
            resultElement.innerHTML = 'Flip the coin to get started!';
            flipHistory = [];
            rewards = 0;
            updateHistory();
            updateRewards();
        }

        function updateHistory() {
            historyList.innerHTML = flipHistory.map(result => `<li>${result}</li>`).join('');
        }

        function updateRewards() {
            rewards += 1;
            rewardsCount.innerHTML = `Coins Collected: ${rewards}`;
        }

        flipButton.addEventListener('click', flipCoin);
        resetButton.addEventListener('click', resetGame);
    </script>
</body>
</html>
