<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Speed Typing Game</title>
<style>
body {
    font-family: 'Arial', sans-serif;
    display: flex;
    justify-content: center;
    align-items: center;
    height: 100vh;
    background-color: #f0f0f0;
    margin: 0;
}
.game-container {
    background: white;
    padding: 2rem;
    border-radius: 8px;
    box-shadow: 0 4px 8px rgba(0,0,0,0.1);
    text-align: center;
}
#wordDisplay {
    font-size: 2rem;
    margin: 1rem 0;
}
#wordInput {
    padding: 0.5rem;
    width: 200px;
    font-size: 1rem;
}
#timer, #score {
    font-size: 1.2rem;
    margin: 0.5rem 0;
}
#difficulty {
    margin-top: 1rem;
}
</style>
</head>
<body>
<div class="game-container">
    <h1>Speed Typing Game</h1>
    <div id="wordDisplay"></div>
    <input type="text" id="wordInput" placeholder="Type the word here..." autocomplete="off">
    <div id="timer">Time: 60</div>
    <div id="score">Score: 0</div>
    <div>
        <select id="difficulty">
            <option value="easy">Easy</option>
            <option value="medium">Medium</option>
            <option value="hard">Hard</option>
        </select>
    </div>
    <div id="endGameMessage"></div>
</body>
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script>
const words = {
    easy: ['cat', 'dog', 'sun', 'run', 'fun'],
    medium: ['apple', 'banana', 'cherry', 'dance', 'elephant'],
    hard: ['quintessential', 'onomatopoeia', 'idiosyncratic', 'indefatigable', 'sesquipedalian']
};

let currentWord = '';
let score = 0;
let time = 60;
let timer;
let difficulty = 'easy';

function pickWord() {
    const wordList = words[difficulty];
    currentWord = wordList[Math.floor(Math.random() * wordList.length)];
    document.getElementById('wordDisplay').textContent = currentWord;
}

function updateScore() {
    score++;
    document.getElementById('score').textContent = `Score: ${score}`;
}

function updateTimer() {
    time--;
    document.getElementById('timer').textContent = `Time: ${time}`;
    if (time <= 0) {
        endGame();
    }
}

function startTimer() {
    timer = setInterval(updateTimer, 1000);
}

function endGame() {
    clearInterval(timer);
    const totalWords = score + document.getElementById('wordInput').value.split(' ').length;
    const accuracy = totalWords > 0 ? (score / totalWords * 100).toFixed(2) : 0;
    const wpm = Math.floor(score * (60 / 60)); // Assuming game lasts for 60 seconds
    document.getElementById('endGameMessage').innerHTML = `Game Over!<br>WPM: ${wpm}<br>Accuracy: ${accuracy}%`;
    document.getElementById('wordInput').disabled = true;
}

document.getElementById('wordInput').addEventListener('input', function() {
    if (this.value.trim() === currentWord) {
        updateScore();
        this.value = '';
        pickWord();
        time += difficulty === 'easy' ? 5 : difficulty === 'medium' ? 3 : 2;
        document.getElementById('timer').textContent = `Time: ${time}`;
    }
});

document.getElementById('difficulty').addEventListener('change', function() {
    difficulty = this.value;
    resetGame();
});

function resetGame() {
    clearInterval(timer);
    time = 60;
    score = 0;
    document.getElementById('timer').textContent = `Time: ${time}`;
    document.getElementById('score').textContent = `Score: ${score}`;
    document.getElementById('wordInput').disabled = false;
    document.getElementById('wordInput').value = '';
    document.getElementById('endGameMessage').textContent = '';
    pickWord();
    startTimer();
}

resetGame();
</script>
</html>