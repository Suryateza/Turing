<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Typing Speed Test</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css">
    <style>
        /* Inline CSS for simplicity */
        body {
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            background-color: #f0f0f0;
        }
        #game-area {
            background: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 0 10px rgba(0,0,0,0.1);
        }
        #text-display {
            margin-bottom: 20px;
            padding: 10px;
            border: 1px solid #ccc;
            min-height: 100px;
            user-select: none;
        }
        #text-input {
            width: 100%;
            height: 100px;
            margin-bottom: 10px;
        }
    </style>
</head>
<body>
    <div id="game-area" class="container">
        <h1>Typing Speed Test</h1>
        <div id="text-display"></div>
        <textarea id="text-input" placeholder="Start typing here when ready..."></textarea>
        <button id="start-btn" class="btn btn-primary">Start</button>
        <div id="results">
            <p>Time: <span id="time">60</span>s</p>
            <p>Speed: <span id="wpm">0</span> WPM</p>
            <p>Accuracy: <span id="accuracy">0</span>%</p>
        </div>
    </div>

    <script>document.addEventListener('DOMContentLoaded', (event) => {
        const textDisplay = document.getElementById('text-display');
        const textInput = document.getElementById('text-input');
        const startBtn = document.getElementById('start-btn');
        const timeDisplay = document.getElementById('time');
        const wpmDisplay = document.getElementById('wpm');
        const accuracyDisplay = document.getElementById('accuracy');
    
        let timeLeft = 60;
        let timer = null;
        let isTestActive = false;
        let originalText = '';
        const paragraphs = [
            "The quick brown fox jumps over the lazy dog. This sentence contains every letter of the alphabet.",
            "To be or not to be, that is the question whether tis nobler in the mind to suffer.",
            "In a hole in the ground there lived a hobbit. Not a nasty, dirty, wet hole, filled with the ends of worms and an oozy smell.",
            // Add more paragraphs as needed
        ];
    
        function loadRandomParagraph() {
            originalText = paragraphs[Math.floor(Math.random() * paragraphs.length)];
            textDisplay.textContent = originalText;
            textInput.value = '';
        }
    
        function startGame() {
            loadRandomParagraph();
            textInput.disabled = false;
            textInput.focus();
            startBtn.disabled = true;
            isTestActive = true;
            timeLeft = 60;
            timeDisplay.textContent = timeLeft;
            timer = setInterval(countdown, 1000);
        }
    
        function countdown() {
            if (timeLeft > 0) {
                timeLeft--;
                timeDisplay.textContent = timeLeft;
            } else {
                endGame();
            }
        }
    
        function calculateWPM() {
            const typedText = textInput.value;
            const words = typedText.split(' ').filter(word => word !== '').length;
            // WPM calculation: words typed / minutes (1 minute here)
            return Math.round(words / 1 * 60);
        }
    
        function calculateAccuracy() {
            const typedText = textInput.value.split(' ');
            const originalWords = originalText.split(' ');
            let correctWords = 0;
            typedText.forEach((word, index) => {
                if (word === originalWords[index]) {
                    correctWords++;
                }
            });
            return Math.round((correctWords / originalWords.length) * 100) || 0;
        }
    
        function endGame() {
            clearInterval(timer);
            textInput.disabled = true;
            startBtn.disabled = false;
            const wpm = calculateWPM();
            const accuracy = calculateAccuracy();
            wpmDisplay.textContent = wpm;
            accuracyDisplay.textContent = accuracy;
        }
    
        startBtn.addEventListener('click', startGame);
    
        textInput.addEventListener('input', () => {
            if (!isTestActive) return;
            if (textInput.value === originalText) {
                endGame();
            }
        });
    });</script>
</body>
</html>