<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Hand Cricket Game</title>
  <style>
    #header {
      background-color: black;
      color: lightgreen;
    }
    
    /* User side CSS */
    #userchoice, #bowling {
      border: 5px solid black;
      height: 400px;
    }
    #usercol {
      border: 1px solid black;
      height: 300px;
    }
    #choice, #delivery {
      border: 1px solid black;
      height: 100px;
    }
    
    #choice > button, #delivery > button {
      display: inline-flex;
      flex-wrap: wrap;
      border-radius: 50%;
      background-color: red;
      color: white;
      height: 50px;
      width: 50px;
      text-align: center;
      margin: 5px;
    }
    
    /* Scoreboard CSS */
    #scoreboard {
      border: 5px solid black;
      height: 400px;
    }
    
    /* Computer side CSS */
    #computerchoice {
      border: 5px solid black;
      height: 400px;
    }
    
    /* Commentary section */
    #commentary {
      border: 5px solid black;
      height: 90px;
      text-align: center;
    }
    
    /* Achievement */
    #achievement {
      color: lightgreen;
      animation: change 1s linear infinite;
      text-align: center;
      position: absolute;
      top: 5px;
      left: 40%;
    }
    
    @keyframes change {
      0% {color: lightgreen;}
      100% {color: orangered;}
    }
  </style>
</head>
<body>
  <!-- Latest compiled and minified CSS -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">

  <!-- jQuery library -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>

  <!-- Latest compiled JavaScript -->
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
  
  <div class="container-fluid">
    <div class="row">
      <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12" id="header">
        <header><h1>Hand Cricket</h1></header>
        <h1 id="achievement"></h1>
      </div>
    </div>
    
    <div class="row">
      <div class="col-lg-4 col-md-4 col-sm-4 col-xs-4" id="userchoice">
        <div class="row">
          <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12" id="usercol">
            <h2>Your Choice:</h2>
            <h1 id="userchoiceshow"></h1>
          </div>
        </div>
        <div class="row" id="choice">
          <h3>Batting Options:</h3>
          <button id="one" onclick="play(1)">1</button>
          <button id="two" onclick="play(2)">2</button>
          <button id="three" onclick="play(3)">3</button>
          <button id="four" onclick="play(4)">4</button>
          <button id="five" onclick="play(5)">5</button>
          <button id="six" onclick="play(6)">6</button>
        </div>
      </div>
      
      <div class="col-lg-4 col-md-4 col-sm-4 col-xs-4" id="scoreboard">
        <h1>Score:</h1>
        <h2 id="score">0</h2>
        <h3 id="ballsLeft">Balls Left: 6</h3>
      </div>
      
      <div class="col-lg-4 col-md-4 col-sm-4 col-xs-4" id="computerchoice">
        <h2>Computer Choice:</h2>
        <h1 id="computerchoiceshow"></h1>
        <h3>Bowling Options:</h3>
        <div id="delivery">
          <button onclick="bowl('fast')">Fast</button>
          <button onclick="bowl('spin')">Spin</button>
          <button onclick="bowl('medium')">Medium</button>
        </div>
      </div>
    </div>
    
    <div class="row">
      <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12" id="commentary">
        <h3 id="comments"></h3>
      </div>
    </div>
  </div>
  
  <script>
    var tot = 0; // Total score variable
    var ballsLeft = 6; // Number of balls left
    var isBatting = true; // Current turn
    var uchoice; // User choice for runs
    
    function updateScore() {
      document.getElementById('score').innerHTML = tot; // Display total score
      document.getElementById('ballsLeft').innerHTML = "Balls Left: " + ballsLeft; // Display balls left
      checkAchievements(); // Check for achievements
    }
    
    function checkAchievements() {
      var h = "Half Century"; // Achievement for 50 runs
      var c = "Century"; // Achievement for 100 runs
      
      if (tot >= 50 && tot < 100) {
        document.getElementById('achievement').innerHTML = h;
      } else if (tot >= 100) {
        document.getElementById('achievement').innerHTML = c;
      } else {
        document.getElementById('achievement').innerHTML = ""; // Clear achievements if not met
      }
    }
    
    function play(runs) {
      if (isBatting) {
        uchoice = runs; // User choice (runs scored)
        var cchoice = Math.floor(Math.random() * 6) + 1; // Random computer choice
        document.getElementById("userchoiceshow").innerHTML = uchoice; // Show user choice
        document.getElementById("computerchoiceshow").innerHTML = cchoice; // Show computer choice
        
        if (ballsLeft > 0) {
          ballsLeft--; // Decrease the number of balls left
          if (cchoice === runs) {
            var o = "Out!";
            document.getElementById("comments").innerHTML = o; // Display out message
            tot = 0; // Reset score if out
            isBatting = false; // Switch to bowling
            resetBalls();
          } else {
            var runMessage = (runs === 4 || runs === 6) ? "Perfect timing! Runs: " + runs : "Slightly mistimed! Runs: " + runs;
            document.getElementById("comments").innerHTML = runMessage; // Display run message
            tot += runs; // Update score
            updateScore(); // Refresh score display
          }
        } else {
          document.getElementById("comments").innerHTML = "No balls left, turn ends."; // No balls left message
          isBatting = false; // Switch to bowling
          resetBalls();
        }
      }
    }
    
    function bowl(type) {
      if (!isBatting) {
        var cchoice = Math.floor(Math.random() * 6) + 1; // Random computer choice
        document.getElementById("computerchoiceshow").innerHTML = cchoice; // Show computer choice
        
        if (cchoice === 1 && type === 'fast') {
          var o = "Computer is Out! Bowled!";
          document.getElementById("comments").innerHTML = o; // Display out message
          tot = 0; // Reset score if out
          isBatting = true; // Switch back to batting
          resetBalls();
        } else if (cchoice > 1 && type === 'spin' && cchoice < 4) {
          var o = "Computer mistimed! Caught!";
          document.getElementById("comments").innerHTML = o; // Display out message
          tot = 0; // Reset score if out
          isBatting = true; // Switch back to batting
          resetBalls();
        } else {
          var runMessage = "Computer scored " + cchoice + " runs.";
          document.getElementById("comments").innerHTML = runMessage; // Display run message
          tot += cchoice; // Update score
          updateScore(); // Refresh score display
        }
      }
    }

    function resetBalls() {
      ballsLeft = 6; // Reset the number of balls for next innings
      updateScore(); // Refresh score display
    }
  </script>
</body>
</html>
