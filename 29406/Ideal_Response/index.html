<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Infinite Scroll Posts</title>
<style>
    body {
          background-color: var(--main-color);
          background-image: linear-gradient(315deg, var(--main-color) 0%, var(--light-color) 100%);
          color: var(--dark-color);
          font-family: "Roboto", sans-serif;
          display: flex;
          flex-direction: column;
          align-items: center;
          justify-content: center;
          min-height: 100vh;
          margin: 0;
          padding-bottom: 100px;
        }
    .posts-container {
        max-width: 1200px;
        margin: 0 auto;
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
        gap: 20px;
        padding: 20px;
    }
    .post {
        background: white;
        border: 1px solid #ddd;
        border-radius: 8px;
        overflow: hidden;
        box-shadow: 0 2px 4px rgba(0,0,0,0.1);
    }
    .post img {
        width: 100%;
        height: 150px;
        object-fit: cover;
    }
    .post h2, .post p {
        padding: 0 10px;
    }
    @media (max-width: 600px) {
        .posts-container {
            grid-template-columns: 1fr;
        }
    }
    #loading {
        text-align: center;
        padding: 20px;
        display: none;
    }
</style>
</head>
<body>
<div class="posts-container" id="posts-container"></div>
<div id="loading">Loading more posts...</div>

<script>
    const postsContainer = document.getElementById('posts-container');
    const loading = document.getElementById('loading');
    let postCount = 0;
    const postsToLoad = 10;

    function createPost(id, title, imageUrl, content) {
        const postElement = document.createElement('div');
        postElement.className = 'post';
        postElement.innerHTML = `<img src="${imageUrl}" alt="${title}">
            <h2>${title}</h2>
            <p>${content}</p>`;
        return postElement;
    }

    function loadMorePosts() {
        loading.style.display = 'block';
        // Simulating API call delay
        setTimeout(() => {
            for(let i = 0; i < postsToLoad; i++) {
                postCount++;
                const newPost = createPost(
                    postCount, 
                    `Post ${postCount}`, 
                    `https://picsum.photos/300/150?random=${postCount}`, 
                    `This is a sample content for post number ${postCount}.`
                );
                postsContainer.appendChild(newPost);
            }
            loading.style.display = 'none';
        }, 1000); // 1 second delay for demonstration
    }

    function isBottom(el) {
        return el.getBoundingClientRect().bottom <= window.innerHeight;
    }

    function checkScroll() {
        const lastPost = document.querySelector('.post:last-child');
        if (lastPost && isBottom(lastPost)) {
            loadMorePosts();
        }
    }

    window.addEventListener('scroll', () => {
        requestAnimationFrame(checkScroll);
    });

    // Initial load
    loadMorePosts();
</script>

</body>
</html>