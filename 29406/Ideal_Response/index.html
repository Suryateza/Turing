<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Infinite Scroll Posts</title>
<style>
    :root {
        --main-color: #0f4c81;
        --light-color: #82c0cc;
        --dark-color: #ffffff;
        --text-color: #333333;
    }

    body {
        background-color: var(--main-color);
        background-image: linear-gradient(315deg, var(--main-color) 0%, var(--light-color) 100%);
        color: var(--dark-color);
        font-family: "Roboto", sans-serif;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        min-height: 100vh;
        margin: 0;
        padding-bottom: 100px;
    }

    .posts-container {
        max-width: 1200px;
        margin: 0 auto;
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
        gap: 20px;
        padding: 20px;
    }

    .post {
        background: white;
        border: 1px solid #ddd;
        border-radius: 8px;
        overflow: hidden;
        box-shadow: 0 2px 4px rgba(0,0,0,0.1);
    }

    .post img {
        width: 100%;
        height: 150px;
        object-fit: cover;
    }

    .post h2, .post p {
        padding: 0 10px;
        color: var(--text-color);
    }

    .post h2 {
        font-size: 18px;
        margin-top: 10px;
    }

    .post p {
        font-size: 14px;
        margin-bottom: 10px;
    }

    @media (max-width: 600px) {
        .posts-container {
            grid-template-columns: 1fr;
        }
    }

    #loading {
        text-align: center;
        padding: 20px;
        display: none;
        color: var(--text-color);
    }
</style>
</head>
<body>

<div class="posts-container" id="posts-container"></div>
<div id="loading">Loading more posts...</div>

<script>
    const postsContainer = document.getElementById('posts-container');
    const loading = document.getElementById('loading');
    let postCount = 0;
    const postsToLoad = 10;
    let debounceTimer;

    function createPost(id, title, imageUrl, content) {
        const postElement = document.createElement('div');
        postElement.className = 'post';
        postElement.innerHTML = `
            <img src="${imageUrl}" alt="${title}">
            <h2>${title}</h2>
            <p>${content}</p>
        `;
        return postElement;
    }

    function loadMorePosts() {
        loading.style.display = 'block';
        setTimeout(() => {
            for (let i = 0; i < postsToLoad; i++) {
                postCount++;
                const newPost = createPost(
                    postCount, 
                    `Post ${postCount}`, 
                    `https://picsum.photos/300/150?random=${postCount}`, 
                    `This is a sample content for post number ${postCount}.`
                );
                postsContainer.appendChild(newPost);
            }
            loading.style.display = 'none';
        }, 1000);
    }

    function isBottom(el) {
        return el.getBoundingClientRect().bottom <= window.innerHeight;
    }

    function checkScroll() {
        const lastPost = document.querySelector('.post:last-child');
        if (lastPost && isBottom(lastPost)) {
            loadMorePosts();
        }
    }

    function debounce(func, delay) {
        return function() {
            clearTimeout(debounceTimer);
            debounceTimer = setTimeout(func, delay);
        }
    }

    window.addEventListener('scroll', debounce(() => {
        requestAnimationFrame(checkScroll);
    }, 200)); // 200ms debounce delay

    // Initial load
    loadMorePosts();
</script>

</body>
</html>
